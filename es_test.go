package json

// Elasticsearch bulk output

import (
	"encoding/json"
	"reflect"
	"testing"
)

type esBulk struct {
	Took   int  `json:"took"`
	Errors bool `json:"errors"`
	Items  []map[string]struct {
		Index   string `json:"_index"`
		Type    string `json:"_type"`
		ID      string `json:"_id"`
		Version int    `json:"_version"`
		Status  int    `json:"status"`
	} `json:"items"`
}

var rawES = `{"took":50,"errors":false,"items":[{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"9goIXWv02m","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"5b26484b-26e3-4dfb-bbb6-4099b746fde9","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab48000334820a162a05d20fe92a","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"2b46fdb8-ea76-4b0c-b59e-7909b5add24a","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab480007c1120ac290ed810940f8","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"cbcfeafc-82df-478e-8913-286f8e69b0cd","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"ae1382ce-7a9e-48d1-960b-b16d70f014bf","_version":3,"status":200}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab480008048f0a162c55420125a4","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"9zwapZyWY4","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab48000b1ed30ac2936c020e0dd1","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"e2048e9f-77ad-4c19-93a4-fd1fdb42f778","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"5cd66f2b-92f4-4579-bcd7-e34c44b03024","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab48000deff60a1b104e750963cc","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"caf75db6-a9fc-4eeb-a1a0-2da91404b8ae","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"a0d5b6c1-5d07-4ee6-8b48-d1cd11bcb39a","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"9b7fbb22-4dcc-44f0-bd6b-887cd4eaecdb","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab48000ed6810a1b8f58ab05d295","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"a25242e3-1dba-4ae2-96ec-f998d5d1cade","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab49000460e30a1b67d53b050efc","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"304932772400160634","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab490002c3e70a1626c15c090b52","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"0772f693-9036-474a-a20a-40ee82bad433","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab490008650d0a1626c4750c35dd","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab490005a7d50ac2554ab0010e7b","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab49000534220ac29284610b104e","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"e99ccfc9-f936-4946-9a7b-1978bfce76b1","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"9leMbIUj5J","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab49000c0a380a18914bfc0c97ef","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab49000a9faa0a1be1d691016f9e","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"4ea5a876-ea21-455d-91c1-d9b35fec5eb1","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"fef811af-bbc9-498f-a1a6-9484e5dbb4ce","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"9qsfBVSyPv","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"94liYyh0VM","_version":3,"status":200}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab49000e5f440ac26084ba097780","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"9xC658VyNX","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab49000ef2eb0a1be1450204a6a4","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"9px3IbFAE1","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"c33301df-d21f-45ed-b417-5e2f46c1f5eb","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"aef2e97e-74ca-4cf2-9d4e-ca442ef1b369","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"e91f1ba0-3ae5-4a61-816d-bb60debee371","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"ca65129a-1033-432c-b054-e5d660e928ac","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"7c14beb1-6174-4a3a-94d1-ed6fe3403cdb","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"9RWx5rUIPP","_version":3,"status":200}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab4a000b01f50a16a44c1809cd23","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab4a000bcacf0ac2960fcd05ca58","_version":2,"status":200}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"db5dad85-75b9-4253-a64a-e5eb22d023da","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"14c709b3-d3ed-4272-82a3-d74d4d9cdc3a","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"e6d6f6db-7f80-4a2a-9759-8f164aed7ac5","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab4a000d942f0a16a8912d08023c","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"9zyKpRup6m","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"68d363d5-3885-44ac-bde0-91ef2270452b","_version":2,"status":200}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"4f4a8c3f-be21-44b8-ac1d-842687f4a255","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"4e444585-398a-4145-a58f-86e181f4fb47","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"92b2cf69-ad70-4b72-b22b-11bbb55a83e0","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"a2fe4273-7e40-4d15-bc16-d5cb650d78ea","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab4b000117d40a1be389d10e10ec","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab4b0001b6370a16a6d7a8037ed3","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"c6a2454b-6fde-4657-9907-bb6b07e44d38","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab4b000329c80a1699517b023270","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"bb4ddc0e-7f57-4c93-b16b-d9bc17e84e8f","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab4b0003e0fb0ac29191a304dcaf","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"64279587-0fa8-464b-9dd9-cf858d28475e","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"2c92c0e9-f7fe-4928-a68b-d0663f8b5d5a","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab4b0005304b0ac29190fa0b7c63","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab4b0004dbac0ac2e9867901284e","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"dc6af800-eccb-4cf3-830d-f74357abfba6","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"5d52473a-b091-48c4-8c32-ed505f7ff3d3","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab4b000ba47e0ac254a95a0b3988","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab4b00093a650a1b1248140d63d8","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"e18819af-45ed-4338-ae4e-0f663197a0fd","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"f9e6bcda-82bb-4fee-aba0-bd037daaf8be","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"9iVlWfFTra","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab4c000140e70a16a3975a020a57","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"93QpyfMfTl","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"55d7a0e8-b0a9-4ef5-a518-383173ff2c45","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab4c0002c4000a162cc50a08521e","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab4c00034ab50a169b83a70f8888","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"0e38f167-3f91-45d1-8d02-2b34c3a76d58","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"9nrBkyg3Iv","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"9Y6vXsjVSz","_version":2,"status":200}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"c1a4e3cd-b89d-4ed6-939f-3e5a3a420888","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"4d97fdbe-0d56-4ec7-8f5b-89e123beef25","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab4c000529ce0a1b14832f00d181","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab4c000a92550a1b3a94ed00d650","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"7d0382ab-a6b3-40ca-9f9e-c4ec320a6e05","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab4c0007a1300a1b8dce430f1bcf","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"04676a1e-321d-4d74-8b5d-9009c3433902","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"6674766f-315c-4f4b-97db-0d9355c29970","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"0f56f228-972f-47fa-9d56-f1b81e8e0a9b","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab4c000e032d0a16a10888055a59","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"cddbdd4e-a143-43f8-99b7-b71747f80996","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"9RxWEvs5eO","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"ae51d83d-923d-4d2f-b86a-7a957df8aee5","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab4c000e10250a18d68ed20eb49f","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"ee3fceb1-561f-41e8-a13e-be119d29fa51","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"24ef9c55-056e-4491-bf6f-8464bdd55161","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"82ef9b78-c68e-409e-93da-349fa771928b","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab4d0003c0750a169d42db0864d5","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"8effeea1-326a-4652-a660-ad1d07d3bfbe","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"54f8c0a0-f4c9-4526-9aeb-90dd6445f45e","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"9j821Ng1GS","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"9VTpUoHWZZ","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"9MSv362N7i","_version":2,"status":200}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"9562AYl209","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"038a0a46-0d0c-44f0-8d23-5df117a8afd6","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"820ac56b-0df9-4536-9424-574f81abf844","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"5eddab5a-7b5d-4d88-97a9-989352c81cf2","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"09163225-483e-4cbe-9414-385e552538fe","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab4d000db0c50a184fd5720900b5","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"21505d5f-a495-49a9-9ca9-59285d981790","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"6b143c02-0a5e-4ce2-92a0-aa6d734445c5","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"5f88cdec-ed5a-43cb-aab6-b6981e2e7b25","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"9jaslEhOM0","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab4e0001efd40a161dd4c90bab85","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab4e00031c350a1be3d315080040","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"3aa56707-f173-4038-9a64-620169993100","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"ddecdaa8-b0f9-47d7-b843-73f9274665a2","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab4e000256bd0a1b108a190e609d","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"9qMIHVl22b","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"12d93794-4901-4772-a3a9-5643c120ec65","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"769dde00-338f-4442-bb23-0793a9171aa7","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"9e9d8702-79c8-46c6-b39e-6c220514654d","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab4e0008834a0a16ac87980ed06f","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"9c9NZG6YKm","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"86c40138-ac5b-4453-9b94-46db8efcdd22","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"9pSmtndzZ5","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab4e000da5ff0a169dd5530bb2dd","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab4e000db58e0a1b6689c30c647b","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"1b13452c-541d-4d11-a903-580ee259723b","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"6a36d00a-5c41-4d4a-b6ea-704bf945fdbe","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"a48d88e1-a41f-4e4a-8a5d-9e6232a98495","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"bcf5c87d-d117-46db-beb4-be4e2f7f3160","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"30a37307-ede8-42f6-9e9a-0cddb57d90a8","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"c3381bb2-8582-4c88-a01b-ff3ad6882b98","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"4702a8a0-568b-421f-a869-0b7479cd4979","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"9aowRdfUB6","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"9lMjVvGfwr","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab4f000144bb0a1b8d91f70a760d","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"9bumEDJl4x","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"6b887a4a-7b09-451a-b501-4613f0a10700","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"e54d2a7f-377b-4318-9670-bd5bd8150dfe","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"fe930600-b64e-4c73-93cd-8e7d3a21d626","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"9YYQ4gQtAn","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab4f00097a910a1b8f8ff90a517c","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"3dda3ee3-c299-43f8-ab09-b51205fa63f0","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"64838128-6334-4980-814f-8baea1c4ab43","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"d30fefc5-087d-4631-917e-91d8e3c4a0e8","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab4f000c284c0a185984c4032a9d","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"9e2cdcab-3ab4-417e-bb6a-cd7689e58ca8","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab4f000a4ce00a16a383770d2e2c","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"13f853b4-38f6-4e78-8820-a48f1cc3cccf","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"107b0286-92e7-494b-85ba-b7ff1f125d84","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"c6a5bd49-885a-46cb-af8a-b42b1190264c","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"d2664b50-b251-411d-bdcc-1b15afe4aa7f","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"c5600ead-5075-4511-ac3f-585ea8cf04e8","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab50000197a90a19838a530d5237","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"49503fd8-17ce-4fe9-af41-2c944465996b","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"9R5wNjbf28","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab500002ca090ac292f25a0bc664","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab5000001b4f0a16a893070b3912","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"adcd4864-6cd6-4905-9e6c-6f0495df2e7b","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab5000049de30a16a606a305495e","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab50000345f90ac26169f107b97f","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab5000057f370ac30203c10fb994","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"99Opw5YO2g","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"9xSVEx22Z8","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab500005b4100a1bb78f4808a117","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"94f984b0-1ebd-4a78-b042-ff470643c2f2","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab500008e1070ac2e9256502cadc","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab5000089c550ac2966bfc0265ac","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"93Sqcn5Xxh","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"b7ec007c-2716-4217-9816-cf60924fcd30","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"23bb2604-925b-43e0-a79d-cdb9db5a4715","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"9Cyd5KGjpf","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"aeebc4fc-2c34-47b3-9ccf-1a231d7e2c58","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"444544360849149940","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"9qBdnmMCTJ","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"21c93110-a1a5-49cc-acc3-0516202ac6aa","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"339c8572-2e35-4750-9d5a-ed557647d6cd","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab51000250b10a16a6c2aa0efac9","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"336db09f-49a2-419c-bbe2-3e163766edcc","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"89126c28-bda0-44fc-86f2-3f8b68d26e10","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab510003adc70a1b6688580becb7","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab510002d3ea0a1b144c780c065f","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"61eb4165-94b4-4054-b8f4-c88777737386","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"3da5c970-dc6c-4fd3-8008-aed65a362197","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"323fd674-f7f2-49bc-9a2b-ab5afe6c9ddc","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"9yOI7zDSrB","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"c3d62bcf-4ba0-4b9b-af6c-8375d02b7dd9","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"10833bde-dde3-42c2-971c-603dbf537a6c","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab5100095a180a161d90d60fc402","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab51000872050a16a783a40cf01b","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"ff704803-7426-4e82-b969-186c03ce1eff","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"4279782a-f188-4953-9a0e-5cde11525f17","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"6b51c726-57d1-46d4-ba6d-f1349155192c","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"03a44813-c683-427d-8ba1-a3e504890652","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab520000a57d0a16a697bc0665da","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"f29f5e9b-3cab-46e0-a5e1-13faf7e82ddb","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"91bccde0-286c-456b-960f-8337b7ffdb9d","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab520002131e0a16a8caad0b2de3","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab51000f390a0a1be195260e0fd2","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab51000efa940a169bc49e0c805b","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"12270b0e-c599-4ea7-9e0d-07cc5a3e8755","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"56bdab52000298800a169dcb6300956a","_version":1,"status":201}},{"update":{"_index":"myindex-2016-02-12_blob1","_type":"mytype","_id":"811a04df-2f7f-460a-93d8-40d5a24db016","_version":1,"status":201}}]}`

func TestESbulk(t *testing.T) {
	vj := esBulk{}
	if err := json.Unmarshal([]byte(rawES), &vj); err != nil {
		t.Fatal(err)
	}

	v := esBulk{}
	if err := Decode(rawES, &v); err != nil {
		t.Fatal(err)
	}

	if have, want := v, vj; !reflect.DeepEqual(have, want) {
		t.Errorf("have %+v, want %+v", have, want)
	}
}

func BenchmarkESbulk(b *testing.B) {
	for i := 0; i < b.N; i++ {
		tv := esBulk{}
		if err := Decode(rawES, &tv); err != nil {
			b.Fatal(err)
		}
	}
}

func BenchmarkESbulkThem(b *testing.B) {
	raw := []byte(rawES)
	for i := 0; i < b.N; i++ {
		tv := esBulk{}
		if err := json.Unmarshal(raw, &tv); err != nil {
			b.Fatal(err)
		}
	}
}
